

prompts = {
    'ZL2_woman' :{ # 林志玲
        'prompt_wav' : './chh/assets/zh-ZL2_woman.wav',
        'prompt_text' : '也许你相亲过很多次，可是你有真心付出过吗？你有努力过吗？你一定以为物质就可以换来爱情是吧！你不如去买彩票好了！也许隔天中了奖就可以得到你想要的一切。'
    },
    'YM_woman' :{ # 杨幂
        'prompt_wav' : './chh/assets/zh-YM_woman.wav',
        # 'prompt_text' : '我醒来时，看见了那个男孩子，他看着我，我想起了和他一起，在养老院晒洗床单的时光。'
        'prompt_text' : '人生只有一次啊，你怎么知道那样选你当下来说应该那样选，为什么没那样选呢？但你今天这要选了呀！'
    },
    "zlc_woman":{ # 赵露思
        'prompt_wav' : './chh/assets/zh-zlc_woman.wav',
        'prompt_text' : '以及我会觉得自己是一个非常能够去处理自己的心态、去平衡自己的心态，去释放压力。'
    },
    "dlrb_woman":{ # 迪丽热巴
        'prompt_wav' : './chh/assets/zh-dlrb_woman.wav',
        'prompt_text' : '就像你脚下走的路一样，都要一步一步走出来的，所以我觉得可能，有一步你可能没有踏出来，或者说是你，在原地，呆住了。'
    },
    "zly_woman":{ # 赵丽颖 
        'prompt_wav' : './chh/assets/zh-zly_woman.wav',
        'prompt_text' : '满意的不能再满意了，过了一个，炎热的夏天，然后演了一个，比较帅比较潇洒，但是，又带了一点，呆萌可爱的角色。'
    },
    "fbb_woman":{ # 范冰冰 
        'prompt_wav' : './chh/assets/zh-fbb_woman.wav',
        'prompt_text' : '在你还一个非常好的年纪里面，然后你去感受这个世界跟你的一个连接。'
    },
    "zyq_woman":{ # 张雨绮 
        'prompt_wav' : './chh/assets/zh-zyq_woman.wav',
        'prompt_text' : '你决定好了，你该买什么的东西你就决定好了，该什么，就我特别喜欢依赖这方面的事情，我不自己特别有主见或者什么，就因为我大家都开心。'
    },
    "zta_woman":{ # 张天爱 
        'prompt_wav' : './chh/assets/zh-zta_woman.wav',
        'prompt_text' : '我手机就响了，有一个座机的电话，就给我打过来，然后就说，但我没有存这个座机号。'
    },
    "bl_woman":{ # 白鹿 
        'prompt_wav' : './chh/assets/zh-bl_woman.wav',
        'prompt_text' : '我最喜欢的是我前期就是有两个辫子的时候，然后，我有去参加一个游园会，然后那身衣服，还不是我的，是别人借给我的，但那身衣服特别好看。'
    },

    'Xinran_woman':{
        'prompt_wav' : './chh/assets/zh-Xinran_woman.wav',
        'prompt_text' : '我喜欢读村上春树，他说如果你爱上了某个星球的一朵花，那么只要在夜晚仰望星空，就会觉得满天的繁星就像一朵朵盛开的花。'
    },

    'Bowen_man' :{
        'prompt_wav' : './chh/assets/zh-Bowen_man.wav',
        'prompt_text' : '简单来说，人工智能是一门致力于让计算机和机器像人一样思考和行动的科学领域。'
                        # '它的目标，是模拟、延伸和扩展人的智能，让机器能够胜任通常需要人类智慧才能完成的任务。'\
                        # '比如：解决问题、感知环境、理解语言，甚至进行创造。'\
                        # 'AI是一非常广泛的领域，它包含了计算机科学、语言学、神经科学，甚至哲学和心理学等多个学科的知识。'
    },
    'XM_man' :{
        'prompt_wav' : './chh/assets/zh-XM_man.wav',
        'prompt_text' : '之后会去清点粮食，然后护送队伍，将饱满的麦子、翠绿的蔬菜、肥壮的牛羊等，送到远方的金项岭。'
    },


    'wyb_man' :{ # 王一博
        'prompt_wav' : './chh/assets/zh-wyb_man.wav',
        'prompt_text' : '考拉的一生呢，99%的时间都在吃毒树叶，吃了就睡觉，基本上一辈子都迷迷糊糊的，还有更尴尬的。'
    }, 
    'zlc_man':{ # 周良辰
        'prompt_wav' : './chh/assets/zh-zlc_man.wav',
        'prompt_text' : '那接下来呢，便是文武大臣们的发言时间了。哎，他们纷纷拿出那些个尚未解决的、杂七杂八的事件，让皇帝来拿个主意。'
        # 'prompt_text' : '各个品阶的官员穿着一整套礼服，早早的排排站好了，他们交头接耳，可能在讨论时事政治或是闲聊生活锁事。'
    },
    "xz_man":{ # 肖战
        'prompt_wav' : './chh/assets/zh-xz_man.wav',
        'prompt_text' : '大家好，我是肖战。在藏海传中饰演藏海，是一个从小背负血海深仇，然后，蛰伏十年重返京城，复仇的这样的一个人物。'
    },
    "st_man":{ # 沈腾
        'prompt_wav' : './chh/assets/zh-st_man.wav',
        'prompt_text' : '剧情就是我饰演的，叫王多鱼，他是一个三四线城市，就是咱们说的西虹市。'
    },
    "wl_man":{ # 吴磊
        'prompt_wav' : './chh/assets/zh-wl_man.wav',
        'prompt_text' : '网球吧，是一个浪漫的运动，它就是跟人间四季，风雪雨晴息息相关。'
    },
    "ldh_man":{ # 刘德华
        'prompt_wav' : './chh/assets/zh-ldh_man.wav',
        'prompt_text' : '所以不是说我离开就是成功，留下来那个人也成功。所以每人，每一个人的路都不一样，但是，有一样事情是不能缺的，就是努力。'
    },
    "hb_man":{ # 黄渤
        'prompt_wav' : './chh/assets/zh-hb_man.wav',
        'prompt_text' : '你开始知道的时候当然是震惊的，你，不好接受的。但后来其实最无奈的是，它并没有那么好特效药，并不是说住院住上半年就，就好了的。'
    },
    "zjl_man":{ # 周杰伦
        'prompt_wav' : './chh/assets/zh-zjl_man.wav',
        'prompt_text' : '这些MV呢，其实都是一个经验。为什么？因为我想当导演，所以我不断在练习，这MV当中有好的有不好的。'
    },
    
}

import re
def read_txt_speaker_paragraphs(file_path):
    """
    读取 TXT 文件，将段落按 speaker 
    """
    paragraphs = []
    speaker_pattern = re.compile(r'^Speaker\s*\S*:')  # 匹配 Speaker namexxx:

    with open(file_path, "r", encoding="utf-8-sig") as f:
        noSpeaker = []
        for line in f:
            line = line.strip()
            if not line:
                continue  # 忽略空行

            if speaker_pattern.match(line):
                if len(noSpeaker) > 0:
                    paragraphs.append("。".join(noSpeaker))
                # 新段落
                paragraphs.append(line)
                noSpeaker = []
            else:
                noSpeaker.append(line)

        if len(noSpeaker) > 0:
            paragraphs.append("。".join(noSpeaker))

    return paragraphs